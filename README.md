#Модуль для Битрикс «Перегруппировка»
##Оглавение
* Описание
* Настройка модуля
	* Вкладка «Настройки»
	* Вкладка правила
* Требования
* Контакты

##Тезаурус
<b>Системные группы</b> - группы пользователей главного модуля Битрикс. Настраиваются в административной части на вкладке «Настройки» -> «Пользователи» -> «Группы пользователей».
 		
<b>Рабочие группы</b> - группы социальной сети корпоративного портала. Настраиваются в публичной части в разделе «Группы».		
##Описание
«Перегруппировка» позволяет настроить автоматическое присоединение и выход пользователя из рабочих групп социальной сети корпоративного портала при смене его системных групп.

Так же есть возможность обновления рабочих групп для уже сущевующих пользователей. В этом случае работает правило на включение. И есть возможность настройки подключения диска рабочей группы, а так же запрета исключения пользователя из раб. группы, если он модератор.
##Настройка модуля
###Вкладка «Настройки»
После установки модуля, его настройки доступны в административной части сайта. Вкладка «Настройки» -> «Настройки продукта» -> "Настройки модулей» -> «Перегруппировка»

На первой (и единственной на этот момент) вкладке доступны глобальные натсройки:
* оставлять пользователя в рабочей группе, если он модератор;
* подключать диск группы к диску пользователя;
* кнопка «Обновить для всех»;
* кнопка «Создать новое правило»
####Оставлять пользователя в рабочей группе, если он модератор
При срабатывание правила на исключение пользователя из рабочей группы, он будет осталвен в ней, если является ее модератором.
####Подключать диск группы к диску пользователя
При срабатывании правила на включение пользователя в рабочую грппу, ее диск так же будет подключен.
####Кнопка «Обновить для всех»
При нажатии на эту кнопку запускаются все существующие активные правила в части «При присоединении к системной группе и обновлении». Применяет существующие правила на пользователей, которые уже находились в целевых системных группах до установки и настроки «Перегруппировки».
####Кнопка «Создать новое правило»
Создаёт новое правило.
###Вкладка правила
Здесь можно настроить в какие рабочие группы будет включаться и из каких исключаться пользователь как при присоединении к системной группе, так и выходе из нее.
####Раздел «Общие»
Здесь находятся общие настройки для правила
#####Название правила
Здесь можно задать название вкладки с правилом.
#####Включено
Включено правило или нет.
#####Применяется к группе
При присоединении/исключении из какой системной группы будет срабатывать правило.
####Раздел «При присоединении к системной группе и обновлении»
Здесь находятся настройки, которые срабатывают при присоединении пользователя к системной группе правила.

Сначала срабатывают правила на присоединение к рабочим группам, потом - на выход из них.
#####Рабочие группы, к которым присоединяется пользователь
Можно выбрать одну или несколько рабочих групп, к которым присоедениться пользователь после его присоединения к системной группе правила.
#####Рабочие группы, из которых выходит пользователь:
Можно выбрать одну или несколько рабочих групп, из которых выйдет пользователь после его выхода из системной группе правила.
####Раздел «При выходе из системной группы»
Здесь всё аналогично предыдущему разделу, за исключением того, что сначала срабатывают правила выход из рабочих групп, а потом - на присоединение.
####Раздел «Удалить правило»
Здесь находится кнопка удаления правила.
##Требования 
Для работы модуля необходим php версии 5.4 или выше и установленный модуль [Констуктор административной части](https://github.com/pavelshulaev/fadmin)
##Контакты
По всем вопросам вы можете связаться со мной по email: rover.webdev@gmail.com, либо через форму на сайте http://rover-it.me. Гитхаб проекта: https://github.com/pavelshulaev/regroup